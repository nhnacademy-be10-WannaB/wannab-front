<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/user-layout :: layout (
      '장바구니 페이지',
      ~{::body},
      ~{::head}
    )}">

<head>
  <title>장바구니 페이지</title>
  <link rel="stylesheet" th:href="@{/css/user/main-cart.css}" />
</head>

<body>
  <form th:action="@{/user/main-order}" method="post">
    <div class="cart-wrapper">
      <section class="cart-section">
        <div class="cart-container">
          <div class="cart-items">
            <h3>Shopping cart</h3>

            <!-- 장바구니 비어있을 때 -->
            <p th:if="${#lists.isEmpty(cartItems)}">장바구니가 비어있습니다.</p>

            <!-- 장바구니에 항목이 있을 때 -->
            <p th:unless="${#lists.isEmpty(cartItems)}"
               th:text="|You have [[${#lists.size(cartItems)}]] items in your cart|">
              You have 0 items in your cart
            </p>

            <!-- 장바구니 항목 반복 -->
            <div class="cart-item" th:each="item : ${cartItems}">
              <img th:src="@{/static_images/testbook.png}" th:alt="${item.title}">
              <div class="cart-item-info">
                <strong th:text="${item.title}">책 제목</strong>
                <p>
                  <span th:text="|정가: ${#numbers.formatInteger(item.originPrice, 3, 'COMMA')}원|">정가</span> /
                  <span th:text="|판매가: ${#numbers.formatInteger(item.salesPrice, 3, 'COMMA')}원|">판매가</span>
                </p>
              </div>

              <div class="cart-qty">
                <button type="button">-</button>
                <span th:text="${item.quantity}">1</span>
                <button type="button">+</button>
              </div>

              <div class="cart-price"
                   th:text="|${#numbers.formatInteger(item.salesPrice * item.quantity, 3, 'COMMA')}원|">
                0원
              </div>

              <button type="button" class="cart-delete">🗑️</button>
            </div>
          </div>

          <div class="text-right" style="margin-top: 16px;" th:if="${not #lists.isEmpty(cartItems)}">
            <button type="submit" class="order-btn">주문 하기</button>
          </div>
        </div>
      </section>
    </div>
  </form>
</body>



</html>


